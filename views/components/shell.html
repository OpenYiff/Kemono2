<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta 
      name="viewport" 
      content="width=device-width, initial-scale=1"
    >
    <title>Kemono</title>
    {# <link 
      rel="shortcut icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='favicon.ico') }}" 
    > #}
    <link 
      rel="stylesheet" 
      type="text/css" 
      href="{{ url_for('static', filename='css/normalize.css') }}"
    >
    {# {% block svg_container %}
    {% endblock %} #}
    {# TODO: Replace push notifications with Python library #}
    {# <meta name="push_key" content="${process.env.VAPID_PUBLIC_KEY}"/>s #}
    {% if props.compatibility %}
      <link 
        rel="stylesheet" 
        type="text/css" 
        href="{{ url_for('static', filename='css/compatibility. css') }}"
      >
    {% else %}
      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/index.css') }}">
    {% endif %}
    {% if props.discord %}
      <link 
        rel="stylesheet" 
        type="text/css" 
        href="{{ url_for('static', filename='css/discord.css') }}"
      >
    {% endif %}
    {% if props.service %}
      <meta name="service" content="{{ props.service }}"/>
    {% endif %}
    {% if props.importId %}
      <meta name="importId" content="{{ props.importId }}"/>
    {% endif %}
    {% if props.count %}
      <meta name="count" content="{{ props.count }}"/>
    {% endif %}
    {% if props.posts %}
      {% if props.posts.published %}
        <meta name="published" content="{{ props.posts.published }}"/>
      {% endif %}
      <meta name="added" content="{{ props.posts.added }}"/>
      <meta name="id" content="{{ props.posts.id }}"/>
    {% endif %}
    {% block scripts %}
      <script 
      src="{{ url_for('static', filename='js/main.js') }}" 
      defer
    ></script>
    {% endblock %}
    {% block scripts_extra %}{% endblock %}
  </head>
  <body>
    <header class="global-header">
      <ul class="header">
        <li {{ 'class="current-page"'|safe if props.currentPage == 'artists' }}><a href="/">Artists</a></li>
        <li {{ 'class="current-page"'|safe if props.currentPage == 'posts' }}><a href="/posts">Posts</a></li>
        <li {{ 'class="current-page"'|safe if props.currentPage == 'import' }}><a href="/importer">Import</a></li>
        <li {{ 'class="current-page"'|safe if props.currentPage == 'requests' }}><a href="/requests">Requests</a></li>
        <li><a href="https://board.kemono.party/kemono" target="_blank">Board</a></li>
        <li {{ 'class="current-page"'|safe if props.currentPage == 'help' }}><a href="/help">Help</a></li>
      </ul>
      {# TODO: move it into this file #}
      {% include 'components/subheader.html' %}
    </header>
    <main class="main" id="main">
      {% block content %}{% endblock %}
    </main>
  </body>
</html>